<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">

  <title>Swift 4 HTTP Request GET and POST</title>
  <meta property="og:title" content="Swift 4 HTTP Request GET and POST" />
  <meta name="twitter:title" content="Swift 4 HTTP Request GET and POST" />
  <meta name="description" content="Some Summury Using the portfolio
 URL
 URLRequest
 URLSession
 URLSession.datatask(URLSessionDataTask) which take URLRequest and CompletionHandler as input
  Building your HTTP request step by step really make one know what he is doing.
Also DO NOT USE (before you are ready)
 content of while using GET. Using datatask will make GET and POST more similar.
 URLSession.datatask(URLSessionDataTask) which take URL only as input. Should build your session step by step.">
  <meta property="og:description" content="Some Summury Using the portfolio
 URL
 URLRequest
 URLSession
 URLSession.datatask(URLSessionDataTask) which take URLRequest and CompletionHandler as input
  Building your HTTP request step by step really make one know what he is doing.
Also DO NOT USE (before you are ready)
 content of while using GET. Using datatask will make GET and POST more similar.
 URLSession.datatask(URLSessionDataTask) which take URL only as input. Should build your session step by step.">
  <meta name="twitter:description" content="Some Summury Using the portfolio
 URL
 URLRequest
 URLSession
 URLSession.datatask(URLSessionDataTask) which take URLRequest and CompletionHandler as input
  Building your HTTP request step by step â€¦">
  <meta name="author" content=""/>
  <meta name="twitter:card" content="summary" />
  <meta property="og:url" content="https://francis5566.github.io/fw1993/post/swift-4-http-request-get-and-post/" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="fw1993" />

  <meta name="generator" content="Hugo 0.40.2" />
  <link rel="canonical" href="https://francis5566.github.io/fw1993/post/swift-4-http-request-get-and-post/" />
  <link rel="alternate" href="https://francis5566.github.io/fw1993/index.xml" type="application/rss+xml" title="fw1993">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.css" integrity="sha384-wITovz90syo1dJWVh32uuETPVEtGigN07tkttEqPv+uR2SE/mbQcG7ATL28aI9H0" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha384-wvfXpqpZZVQGK6TAh5PVlGOfQNHSoD2xbE+QkPxCAFlNEevoEH3Sl0sibVcOQVnN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
  <link rel="stylesheet" href="https://francis5566.github.io/fw1993/css/main.css" /><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" /><link rel="stylesheet" href="https://francis5566.github.io/fw1993/css/syntax.css" /><link rel="stylesheet" href="https://francis5566.github.io/fw1993/css/codeblock.css" />



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.css" integrity="sha384-h/L2W9KefUClHWaty3SLE5F/qvc4djlyR4qY3NUV5HGQBBW7stbcfff1+I/vmsHh" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/default-skin/default-skin.min.css" integrity="sha384-iD0dNku6PYSIQLyfTOpB06F2KCZJAKLOThS5HRe8b3ibhdEQ6eKsFf/EeFxdOt5R" crossorigin="anonymous">



<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

<div class="pswp__bg"></div>

<div class="pswp__scroll-wrap">
    
    <div class="pswp__container">
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
      <div class="pswp__item"></div>
    </div>
    
    <div class="pswp__ui pswp__ui--hidden">
    <div class="pswp__top-bar">
      
      <div class="pswp__counter"></div>
      <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
      <button class="pswp__button pswp__button--share" title="Share"></button>
      <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
      <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>
      
      
      <div class="pswp__preloader">
        <div class="pswp__preloader__icn">
          <div class="pswp__preloader__cut">
            <div class="pswp__preloader__donut"></div>
          </div>
        </div>
      </div>
    </div>
    <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
      <div class="pswp__share-tooltip"></div>
    </div>
    <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
    </button>
    <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
    </button>
    <div class="pswp__caption">
      <div class="pswp__caption__center"></div>
    </div>
    </div>
    </div>
</div>

</head>

  <body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="https://francis5566.github.io/fw1993/">fw1993</a>
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
        
          
            <li>
              <a title="Tags" href="/fw1993/tags/">Tags</a>
            </li>
          
        
          
            <li>
              <a title="Posts" href="/fw1993/post/">Posts</a>
            </li>
          
        
          
            <li>
              <a title="About" href="/fw1993/about/">About</a>
            </li>
          
        

        

        
      </ul>
    </div>

    <div class="avatar-container">
      <div class="avatar-img-border">
        
      </div>
    </div>

  </div>
</nav>




    
  
  
  




  

  <header class="header-section ">
    
    <div class="intro-header no-img">
      
      <div class="container">
        <div class="row">
          <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
            <div class="post-heading">
              <h1>Swift 4 HTTP Request GET and POST</h1>
                
                
                  <span class="post-meta">
  
  
  <i class="fa fa-calendar-o"></i>&nbsp;Posted on May 24, 2018
  
  
  
</span>


                
            </div>
          </div>
        </div>
      </div>
    </div>
  </header>


    
<div class="container" role="main">
  <div class="row">
    <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
      <article role="main" class="blog-post">
        

<h2 id="some-summury">Some Summury</h2>

<p>Using the portfolio</p>

<ul>
<li><code>URL</code><br /></li>
<li><code>URLRequest</code><br /></li>
<li><code>URLSession</code><br /></li>
<li><code>URLSession.datatask(URLSessionDataTask)</code> which take <code>URLRequest</code> and <code>CompletionHandler</code> as input<br /></li>
</ul>

<p>Building your HTTP request step by step really make one know what he is  doing.</p>

<p>Also DO NOT USE (before you are ready)</p>

<ul>
<li><code>content of</code> while using GET. Using datatask will make GET and POST more similar.<br /></li>
<li><code>URLSession.datatask(URLSessionDataTask)</code> which take <code>URL</code> only as input. Should build your session step by step.</li>
</ul>

<h2 id="get-code">GET code</h2>

<p>Please note this is for GET HTML and convert to string. For those GET a json you could still use the most of request.</p>

<pre><code>@IBAction func button2_onclick(_ sender: Any) {

//Set GET url string
let get_url_string: String = &quot;https://www.google.com&quot;

//Set Get url
guard let get_url = URL(string: get_url_string) else {
    print(&quot;Error: cannot create login URL&quot;)
    return
}

//Set Request and Method
var get_request = URLRequest(url: get_url)
get_request.httpMethod = &quot;GET&quot;

//Set your session to main thread
let session = URLSession.shared

//Task start
let task = session.dataTask(with: get_request) { (data, response, error) in
    guard error == nil else {
        print(&quot;error calling GET URLSession datatask&quot;)
        print(error!.localizedDescription)
        return
    }
    
    guard let _ = response else {
        return
    }
    
    guard let data_string : String = String(data: data!, encoding: .utf8) else {
        print(&quot;Converting Data GET from request to string error&quot;)
        return
    }
    print(data_string)
    //Parse your data here
}
task.resume();
}
</code></pre>

<h2 id="post-code">POST code</h2>

<p>This is a <code>application/x-www-form-urlencoded</code> version.</p>

<pre><code>@IBAction func button2_onclick(_ sender: Any) {

//Set POST url string
let post_url_string: String = &quot;https://your_post_url&quot;

//Set POST url
guard let post_url = URL(string : post_url_string) else {
    print(&quot;Error: cannot post URL&quot;)
    return
}

//Set POST Request
var post_request = URLRequest(url: post_url)
post_request.httpMethod = &quot;POST&quot;
post_request.setValue(&quot;application/x-www-form-urlencoded&quot;, forHTTPHeaderField: &quot;Content-Type&quot;)
post_request.httpBody =(&quot;action=check&amp;usermac=&quot;+String(my_mac_address)+&quot;&amp;userip=&quot;+String(my_ip_address)+&quot;&amp;utype=fb&quot;).data(using: .utf8)

//Set your session to main thread
let session = URLSession.shared

//Task start
let task = session.dataTask(with: post_request) {
    (data, response, error) in
    guard error == nil else {
        print(&quot;error calling POST to this url&quot;)
        print(error!)
        return
    }
    guard let responseData = data else {
        print(&quot;Error: did not receive data&quot;)
        return
    }
    //Parse the result here
}
task.resume()
}
</code></pre>


        
          <div class="blog-tags">
            
              <a href="https://francis5566.github.io/fw1993//tags/networking/">Networking</a>&nbsp;
            
              <a href="https://francis5566.github.io/fw1993//tags/swift/">Swift</a>&nbsp;
            
              <a href="https://francis5566.github.io/fw1993//tags/restapi/">RESTAPI</a>&nbsp;
            
          </div>
        

        
      </article>

      
        <ul class="pager blog-pager">
          
            <li class="previous">
              <a href="https://francis5566.github.io/fw1993/post/tcp-ip-protocols/" data-toggle="tooltip" data-placement="top" title="TCP/IP protocols">&larr; Previous Post</a>
            </li>
          
          
        </ul>
      


      

      
          <div id="git-comments"></div>
          <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
          <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
          <script>
            var gitment = new Gitment({
              id: 'Swift-4-HTTP-Request-GET-and-POST',  
              owner: 'Francis5566',
              repo: 'fw1993_gitment',
              oauth: {
                client_id: 'd7e93c1378d66ee2a80f',
                client_secret: '710e9b4cd9d4ac8265149cf2ee40b29a87c12435',
              }
            })
            gitment.render('git-comments')
          </script>
      

    </div>
  </div>
</div>

    <footer>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul class="list-inline text-center footer-links">
          
          
        </ul>
        <p class="credits copyright text-muted">
          

          &nbsp;&bull;&nbsp;
          2018

          
            &nbsp;&bull;&nbsp;
            <a href="https://francis5566.github.io/fw1993/">fw1993</a>
          
        </p>
        
        <p class="credits theme-by text-muted">
          <a href="http://gohugo.io">Hugo v0.40.2</a> powered &nbsp;&bull;&nbsp; Theme by <a href="http://deanattali.com/beautiful-jekyll/">Beautiful Jekyll</a> adapted to <a href="https://github.com/halogenica/beautifulhugo">Beautiful Hugo</a>
          
        </p>
      </div>
    </div>
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/katex.min.js" integrity="sha384-/y1Nn9+QQAipbNQWU65krzJralCnuOasHncUFXGkdwntGeSvQicrYkiUBwsgUqc1" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.7.1/contrib/auto-render.min.js" integrity="sha384-dq1/gEHSxPZQ7DdrM82ID4YVol9BYyU7GbWlIwnwyPzotpoc57wDw/guX8EaYGPx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-1.12.4.min.js" integrity="sha256-ZosEbRLbNQzLpnKIkEdrPv7lOy9C27hHQ+Xp8a4MxAQ=" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
<script src="https://francis5566.github.io/fw1993/js/main.js"></script><script> renderMathInElement(document.body); </script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe.min.js" integrity="sha384-QELNnmcmU8IR9ZAykt67vGr9/rZJdHbiWi64V88fCPaOohUlHCqUD/unNN0BXSqy" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/photoswipe/4.1.2/photoswipe-ui-default.min.js" integrity="sha384-m67o7SkQ1ALzKZIFh4CiTA8tmadaujiTa9Vu+nqPSwDOqHrDmxLezTdFln8077+q" crossorigin="anonymous"></script>
<script src="https://francis5566.github.io/fw1993/js/load-photoswipe.js"></script>






  </body>
</html>

